#!/bin/sh

echo 'ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing ğŸ—ï¸ğŸ‘·'

#Check Prettier
npm run check-format ||
{
  echo "âŒâŒ Prettier check failed. Run -NPM RUN FORMAT-, add changes and try commit again âŒâŒ"
  false
}

#Check ESLint
npm run lint ||
{
  echo "âŒâŒ ESLint check failed. Run -NPM RUN LINT:FIX-, add changes and try commit again âŒâŒ"
  false
}

#Check tsconfig
npm run check-types ||
{
  echo "âŒâŒ tsconfig check failed. add changes and try commit against âŒâŒ"
  false
}

# build
npm run build ||
{
  echo "âŒâŒ Build check failed. view the errors above âŒâŒ"
  false
}

# If everything passes... Now we can commit
echo 'âœ…âœ…âœ…âœ… Successfully Linted, Checked Types, Checked Format, Built. âœ…âœ…âœ…âœ…'
echo 'âœï¸âœï¸âœï¸âœï¸ Now you can commit. âœï¸âœï¸âœï¸âœï¸'